<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="google-adsense-account" content="ca-pub-6928532357173399">
    <link rel="icon" href="pdfcpmresser logo.png">
    <title>PDF Compressor Pro | Free Online Tool</title>
    <script type='text/javascript' src='//pl27477738.profitableratecpm.com/c7/1b/81/c71b81fc3cc718460ac46cc1067dd19b.js'></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- pdf-lib -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.16.0/pdf-lib.min.js"></script>

    <!-- FileSaver -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

    <!-- pdf.js for PDF to PNG rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
    <meta name="monetag" content="e9f37ac557c9d46336560e788eefa02b">
<script src="https://fpyf8.com/88/tag.min.js" data-zone="165451" async data-cfasync="false"></script>
    <!-- AOS animations -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        :root {
            --primary: #4f46e5; /* Indigo */
            --primary-light: #818cf8;
            --primary-dark: #4338ca;
            --secondary: #f43f5e; /* Rose Red */
            --dark: #1e293b;
            --light: #f3f4f6;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--dark) 0%, var(--primary) 100%);
            color: #e0e7ff;
            min-height: 100vh;
        }

        .loader {
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .drop-zone {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: #374151;
            border-color: var(--secondary);
            color: #f9fafb;
        }

        .drop-zone.active {
            border-color: var(--secondary);
            background-color: #db2777;
            transform: scale(1.02);
            color: white;
        }

        .file-card {
            transition: transform 0.3s, box-shadow 0.3s;
            background: #4b5563;
            color: #f9fafb;
            border-color: var(--primary);
            border-width: 1px;
            border-style: solid;
            padding: 1rem;
            border-radius: 0.75rem;
            box-sizing: border-box;
        }

        .file-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 24px -8px rgba(79, 70, 229, 0.5);
        }

        .nav-link {
            position: relative;
            color: #e0e7ff;
        }

        .nav-link:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: var(--primary-light);
            transition: width 0.3s ease;
        }

        .nav-link:hover:after {
            width: 100%;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .floating {
            animation: float 4s ease-in-out infinite;
        }

        .slide-in {
            animation: slideIn 0.5s ease-out forwards;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.7);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 15px 15px rgba(79, 70, 229, 0);
            }
        }

        .btn-primary {
            background: var(--primary);
            transition: all 0.3s ease;
            color: white;
            font-weight: 600;
            border-radius: 0.5rem;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(79, 70, 229, 0.6);
            animation: pulse 1.5s infinite;
        }

        .btn-secondary {
            background: var(--secondary);
            transition: all 0.3s ease;
            color: white;
            font-weight: 600;
            border-radius: 0.5rem;
        }

        .btn-secondary:hover {
            background: #db2777;
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(244, 63, 94, 0.6);
            animation: pulse 1.5s infinite;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .page-content {
            min-height: calc(100vh - 320px);
            
        }

        .footer {
            background: var(--dark);
            color: rgb(226, 174, 174);
        }

        .toggle-section {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .toggle-section.active {
            max-height: 500px;
            transition: max-height 0.5s ease-in;
        }
    </style>
</head>

<body class="antialiased text-slate-200">
    <!-- Navigation -->
 <nav class="sticky top-0 z-50 backdrop-blur bg-indigo-900 bg-opacity-70 shadow-md border-b border-indigo-700" data-aos="fade-down">
  <div class="max-w-7xl mx-auto px-6 md:px-12 lg:px-20">
    <div class="flex justify-between items-center h-16">
      <!-- Brand -->
      <a href="#home" class="flex items-center space-x-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-pink-400 animate-pulse" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
        <span class="bg-gradient-to-r from-pink-400 via-purple-500 to-indigo-400 bg-clip-text text-transparent text-2xl font-extrabold select-none">
          PDFCompress
        </span>
      </a>

      <!-- Navigation Links (desktop) -->
      <ul class="hidden md:flex space-x-12 font-semibold text-indigo-200 uppercase tracking-wide text-sm">
        <li><a href="#home" class="nav-link relative hover:text-pink-400 transition-all duration-300">Home</a></li>
        <li><a href="#privacy" class="nav-link relative hover:text-pink-400 transition-all duration-300">Privacy</a></li>
        <li><a href="#about" class="nav-link relative hover:text-pink-400 transition-all duration-300">About</a></li>
        <li><a href="#contact" class="nav-link relative hover:text-pink-400 transition-all duration-300">Contact</a></li>
      </ul>

      <!-- Mobile Hamburger Button -->
      <button id="mobile-menu-button" aria-label="Toggle menu" class="md:hidden flex items-center justify-center p-2 rounded-md text-indigo-300 hover:text-pink-400 focus:outline-none focus:ring-2 focus:ring-pink-400">
        <svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden bg-indigo-900 bg-opacity-90 backdrop-blur border-t border-indigo-700 shadow-lg">
    <ul class="flex flex-col space-y-4 text-indigo-200 uppercase font-semibold px-6 py-6 tracking-wide text-lg">
      <li><a href="#home" class="block py-1 hover:text-pink-400 transition">Home</a></li>
      <li><a href="#privacy" class="block py-1 hover:text-pink-400 transition">Privacy</a></li>
      <li><a href="#about" class="block py-1 hover:text-pink-400 transition">About</a></li>
      <li><a href="#contact" class="block py-1 hover:text-pink-400 transition">Contact</a></li>
    </ul>
  </div>

  <style>
    .nav-link::after {
      content: '';
      position: absolute;
      width: 0%;
      height: 2px;
      bottom: -3px;
      left: 0;
      background: linear-gradient(90deg, #ec4899, #8b5cf6);
      transition: width 300ms ease;
      border-radius: 2px;
    }
    .nav-link:hover::after {
      width: 100%;
    }
  </style>

  <script>
    // Toggle mobile menu
    const menuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    menuButton.addEventListener('click', () => {
      if (mobileMenu.classList.contains('hidden')) {
        mobileMenu.classList.remove('hidden');
      } else {
        mobileMenu.classList.add('hidden');
      }
    });
  </script>
</nav>
<section class="bg-gradient-to-r from-indigo-900 via-indigo-800 to-indigo-900 py-20" data-aos="fade-up">
  <div class="max-w-7xl mx-auto px-6 lg:px-20 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
    <!-- Text content -->
    <div class="lg:col-span-7 text-center lg:text-left">
      <h1 class="text-5xl md:text-6xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-400 drop-shadow-lg mb-8" data-aos="fade-right">
        Compress Your PDFs <br />Fast &amp; Securely Free
      </h1>
      <p class="max-w-3xl mx-auto lg:mx-0 text-indigo-300 text-lg md:text-xl mb-10 leading-relaxed">
        Instantly reduce the size of any PDF file with our privacy-focused tool. No registration required &mdash; all processing happens securely in your browser.
      </p>
      <div class="flex flex-col sm:flex-row gap-6 max-w-md mx-auto lg:mx-0 justify-center lg:justify-start">
        <a href="#home" class="inline-flex items-center justify-center px-8 py-4 bg-pink-600 hover:bg-pink-700 text-white font-bold rounded-xl shadow-lg transition duration-300 ease-in-out transform hover:-translate-y-1">
          Compress Now
          <svg class="w-5 h-5 ml-3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
            <path d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
        <a href="#about" class="inline-flex items-center justify-center px-8 py-4 border border-pink-600 text-pink-600 rounded-xl font-semibold hover:bg-pink-600 hover:text-white transition duration-300 ease-in-out">
          Learn More
        </a>
      </div>
    </div>

   
  </div>
</section>



    <!-- Main Content -->
    <main id="home" class="page-content">
        <div class="container mx-auto px-4 py-12">
            <!-- Hero Section with Floating Animation -->
            <div class="text-center mb-16" data-aos="fade-up">
                <div class="floating inline-block mb-6">
                    <div class="bg-indigo-300 p-4 rounded-full">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-indigo-700" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10" />
                        </svg>
                    </div>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold text-indigo-300 mb-4">PDF Compressor Pro</h1>
                <p class="text-xl text-indigo-300 max-w-3xl mx-auto">
                    Reduce PDF file sizes instantly with our free online tool. No registration required - 100% private &amp; secure.
                </p>
            </div>

            <!-- Main Tool -->
            <div class="max-w-4xl mx-auto bg-[#374151] rounded-xl shadow-lg overflow-hidden" data-aos="zoom-in">
                <div class="p-6 md:p-8">
                    <!-- Drop Zone -->
                    <div id="dropZone" class="drop-zone border-2 border-dashed border-indigo-400 rounded-xl p-12 text-center cursor-pointer mb-8">
                        <div class="flex flex-col items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-indigo-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                            <h3 class="text-xl font-medium text-indigo-300 mb-2">Drop PDF files here</h3>
                            <p class="text-indigo-300">or click to select files</p>
                            <input type="file" id="fileInput" class="hidden" accept=".pdf" multiple />
                        </div>
                    </div>

                    <!-- Compression Options -->
                    <div class="mb-8">
                        <h3 class="text-lg font-medium text-indigo-300 mb-4">Compression Level</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="flex items-center">
                                <input id="low" name="compression" type="radio" class="h-4 w-4 text-indigo-400 focus:ring-indigo-300" checked value="low" />
                                <label for="low" class="ml-3 block text-sm font-medium text-indigo-300">Low (Better Quality)</label>
                            </div>
                            <div class="flex items-center">
                                <input id="medium" name="compression" type="radio" class="h-4 w-4 text-indigo-400 focus:ring-indigo-300" value="medium" />
                                <label for="medium" class="ml-3 block text-sm font-medium text-indigo-300">Medium (Recommended)</label>
                            </div>
                            <div class="flex items-center">
                                <input id="high" name="compression" type="radio" class="h-4 w-4 text-indigo-400 focus:ring-indigo-300" value="high" />
                                <label for="high" class="ml-3 block text-sm font-medium text-indigo-300">High (Maximum Compression)</label>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button id="compressBtn" class="btn-primary flex-1 py-3 px-6 flex items-center justify-center">
                            Compress PDF
                        </button>
                        <button id="convertBtn" class="btn-secondary flex-1 py-3 px-6 flex items-center justify-center">
                            Convert PDF to PNG
                        </button>
                        <button id="resetBtn" class="bg-gray-700 hover:bg-gray-600 text-indigo-300 font-medium py-3 px-6 rounded-lg transition duration-200 flex-1">
                            Clear Files
                        </button>
                    </div>

                    <!-- Results Section -->
                    <div id="results" class="mt-12 hidden" data-aos="fade-up">
                        <h3 class="text-xl font-medium text-indigo-300 mb-6">Compression Results</h3>
                        <div id="fileResults" class="space-y-4"></div>
                    </div>
                </div>
            </div>

            <!-- Existing Features, Privacy, About, Contact Sections remain unchanged -->
            <!-- ... -->
        </div>
        <!-- Privacy Policy Section -->
<section id="privacy" class="py-20 bg-gradient-to-r from-indigo-900 via-indigo-800 to-indigo-900" data-aos="fade-up">
  <div class="max-w-5xl mx-auto bg-indigo-800 bg-opacity-80 rounded-2xl p-10 shadow-lg border border-indigo-600">
    <h2 class="text-4xl font-extrabold bg-gradient-to-r from-pink-500 via-indigo-400 to-purple-500 bg-clip-text text-transparent mb-10 text-center" data-aos="fade-right">Privacy Policy</h2>
    <p class="text-indigo-200 text-lg leading-relaxed mb-8">
      At PDFCompress, we take your privacy seriously. Unlike other online tools, we've designed our service to work entirely in your browser - your documents never leave your computer and are never uploaded to any server.
    </p>
    <h3 class="text-2xl font-semibold text-pink-400 mb-4 flex items-center gap-3" data-aos="fade-right">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-pink-400 animate-pulse" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276a1 1 0 010 1.552L15 12v-2zm-6 4l-4.553 2.276a1 1 0 010-1.552L9 12v2z" />
      </svg>
      Information We Don’t Collect
    </h3>
    <ul class="list-disc pl-8 text-indigo-300 space-y-2 mb-10">
      <li>The PDF files you process with our tool</li>
      <li>Any personal information contained within your documents</li>
      <li>Your IP address or location data</li>
      <li>Any browsing history or usage patterns</li>
    </ul>
    <h3 class="text-2xl font-semibold text-pink-400 mb-4 flex items-center gap-3" data-aos="fade-right">How It Works</h3>
    
    <p class="text-indigo-200 text-lg leading-relaxed mb-8">
      Our PDF compression tool uses modern web technologies to process your files directly in your browser. All processing happens locally on your device, and the compressed file is immediately available for download without any server interaction.
    </p>
    <h3 class="text-2xl font-semibold text-pink-400 mb-4 flex items-center gap-3" data-aos="fade-right">Third-Party Services</h3>
    <p class="text-indigo-200 text-lg leading-relaxed mb-8">
      We use minimal third-party services (like Google Analytics for anonymous usage statistics) that may set cookies. You can opt-out of these through your browser settings if preferred.
    </p>
    <h3 class="text-2xl font-semibold text-pink-400 mb-4 flex items-center gap-3" data-aos="fade-right"">Changes to This Policy</h3>
    <p class="text-indigo-200 text-lg leading-relaxed">
      We may update this Privacy Policy from time to time. Any changes will be posted on this page.
    </p>
  </div>
</section>

<!-- About Us Section -->
<section id="about" class="py-20 bg-gradient-to-r from-indigo-900 via-purple-900 to-indigo-900" data-aos="fade-up">
  <div class="max-w-5xl mx-auto bg-purple-900 bg-opacity-80 rounded-2xl p-10 shadow-lg border border-purple-700">
    <h2 class="text-4xl font-extrabold bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 bg-clip-text text-transparent mb-10 text-center" data-aos="fade-right">About PDFCompress</h2>
    <p class="text-indigo-200 text-lg leading-relaxed mb-6 max-w-3xl mx-auto text-center">
      We believe everyone should have access to simple, powerful tools without compromising their privacy. PDFCompress was created to provide a genuinely private alternative to traditional online PDF tools.
    </p>
    <p class="text-indigo-200 text-lg leading-relaxed mb-10 max-w-3xl mx-auto text-center">
      Unlike other services that upload your documents to their servers, we've built technology that works entirely in your browser - keeping your files secure and private.
    </p>
    <h3 class="text-2xl font-semibold text-green-400 mb-6 text-center flex items-center justify-center gap-3">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-400 animate-bounce" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c1 2 2 4 2 4s-1 2-2 4-2-4-2-4 1-2 2-4z" />
      </svg>
      Our Mission
    </h3>
    <p class="text-indigo-200 text-lg leading-relaxed text-center max-w-2xl mx-auto">
      Providing a fast, privacy-focused PDF compression service with no registration and no file uploading to servers.
    </p>
  </div>
</section>

<!-- Contact Us Section -->
<section id="contact" class="py-20 bg-gradient-to-r from-indigo-900 via-pink-900 to-indigo-900" data-aos="fade-up">
  <div class="max-w-3xl mx-auto bg-pink-900 bg-opacity-80 rounded-2xl p-10 shadow-lg border border-pink-700">
    <h2 class="text-4xl font-extrabold bg-gradient-to-r from-yellow-400 via-red-400 to-pink-500 bg-clip-text text-transparent mb-10 text-center" data-aos="fade-right">Contact Us</h2>
    <form class="space-y-8" onsubmit="event.preventDefault(); alert('Message sent! Thank you for reaching out.');">
      <div>
        <label for="name" class="block mb-2 font-semibold text-indigo-200">Your Name</label>
        <input type="text" id="name" required placeholder="John Doe"
          class="w-full px-4 py-3 rounded-lg border border-pink-500 bg-pink-800 text-indigo-100 placeholder-indigo-400 focus:outline-none focus:ring-4 focus:ring-pink-600" />
      </div>
      <div>
        <label for="email" class="block mb-2 font-semibold text-indigo-200">Email Address</label>
        <input type="email" id="email" required placeholder="john@example.com"
          class="w-full px-4 py-3 rounded-lg border border-pink-500 bg-pink-800 text-indigo-100 placeholder-indigo-400 focus:outline-none focus:ring-4 focus:ring-pink-600" />
      </div>
      <div>
        <label for="message" class="block mb-2 font-semibold text-indigo-200">Message</label>
        <textarea id="message" rows="5" required placeholder="Your message here..."
          class="w-full px-4 py-3 rounded-lg border border-pink-500 bg-pink-800 text-indigo-100 placeholder-indigo-400 focus:outline-none focus:ring-4 focus:ring-pink-600"></textarea>
      </div>
      <button type="submit"
        class="w-full py-4 rounded-xl bg-gradient-to-r from-pink-600 via-red-500 to-yellow-400 text-white font-bold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition duration-300 ease-in-out">
        Send Message
      </button>
    </form>
  </div>
</section>

    </main>

    <!-- Footer remains unchanged -->
    <!-- ... -->

    <script>
        // DOM Elements
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');
        const compressBtn = document.getElementById('compressBtn');
        const convertBtn = document.getElementById('convertBtn');
        const resetBtn = document.getElementById('resetBtn');
        const resultsSection = document.getElementById('results');
        const fileResults = document.getElementById('fileResults');

        let uploadedFiles = [];

        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true,
            offset: 100
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', e => {
                e.preventDefault();
                const target = document.querySelector(anchor.getAttribute('href'));
                if (target) {
                    window.scrollTo({
                        top: target.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Drag and drop handlers
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropZone.addEventListener(eventName, preventDefaults, false);
            document.body.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            dropZone.addEventListener(eventName, () => {
                dropZone.classList.add('active');
                dropZone.style.transform = 'scale(1.02)';
            }, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropZone.addEventListener(eventName, () => {
                dropZone.classList.remove('active');
                dropZone.style.transform = '';
            }, false);
        });

        dropZone.addEventListener('drop', e => handleFiles(e.dataTransfer.files));
        dropZone.addEventListener('click', () => fileInput.click());

        fileInput.addEventListener('change', () => {
            if (fileInput.files.length) {
                handleFiles(fileInput.files);
            }
        });

        function handleFiles(files) {
            uploadedFiles = [];
            for (let i = 0; i < files.length; i++) {
                if (files[i].type === 'application/pdf') {
                    uploadedFiles.push(files[i]);
                }
            }

            if (uploadedFiles.length) {
                updateFileList();
                resultsSection.classList.remove('hidden');
                resultsSection.style.opacity = '0';
                setTimeout(() => {
                    resultsSection.style.opacity = '1';
                }, 50);
            } else {
                animateShake(dropZone);
                alert('No PDF files found. Please upload only PDF files.');
            }
        }

        function updateFileList() {
            fileResults.innerHTML = '';
            uploadedFiles.forEach((file, index) => {
                const fileCard = document.createElement('div');
                fileCard.className = 'file-card fade-in';
                fileCard.style.animationDelay = `${index * 0.1}s`;
                fileCard.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center truncate">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-400 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" clip-rule="evenodd"/>
                            </svg>
                            <span class="truncate">${file.name}</span>
                        </div>
                        <span class="text-sm text-indigo-200">${formatFileSize(file.size)}</span>
                    </div>
                `;
                fileResults.appendChild(fileCard);
            });
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        compressBtn.addEventListener('click', async function () {
            if (!uploadedFiles.length) {
                alert('Please upload at least one PDF file first.');
                return;
            }

            const compressionLevel = document.querySelector('input[name="compression"]:checked').value;

            this.disabled = true;
            this.innerHTML = `
                <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                Compressing...
            `;

            document.querySelectorAll('.file-card').forEach(card => {
                card.style.opacity = '0.85';
                card.style.filter = 'saturate(0.8)';
            });

            try {
                for (let i = 0; i < uploadedFiles.length; i++) {
                    const file = uploadedFiles[i];
                    const compressedFile = await compressPDF(file, compressionLevel);

                    const fileCard = fileResults.children[i];
                    fileCard.style.transition = 'all 0.3s ease';
                    fileCard.style.borderColor = 'var(--secondary)';
                    fileCard.style.boxShadow = '0 0 0 3px rgba(244, 63, 94, 0.4)';

                    setTimeout(() => {
                        fileCard.style.borderColor = 'var(--primary)';
                        fileCard.style.boxShadow = '';
                    }, 500);

                    const downloadLink = document.createElement('a');
                    downloadLink.href = URL.createObjectURL(compressedFile);
                    downloadLink.download = `compressed_${file.name}`;
                    downloadLink.className = 'text-indigo-300 hover:text-indigo-100 hover:underline transition duration-200 ml-4';
                    downloadLink.textContent = 'Download';

                    const statusDiv = document.createElement('div');
                    statusDiv.className = 'mt-2 text-right';

                    statusDiv.innerHTML = `
                        <span class="inline-block py-1 px-2 rounded bg-green-100 text-green-800 text-xs font-medium mr-2">Ready</span>
                        <span class="text-sm text-green-600">Successfully compressed!</span>
                        <span class="text-sm ml-2">${Math.round((file.size - compressedFile.size) / file.size * 100)}% smaller</span>
                    `;

                    fileCard.appendChild(statusDiv);
                    statusDiv.appendChild(downloadLink);
                }
            } catch (error) {
                console.error('Compression error:', error);
                animateShake(resultsSection);
                alert('An error occurred during compression. Please try again.');
            } finally {
                this.disabled = false;
                this.textContent = 'Compress PDF';
            }
        });

        // New PDF to PNG conversion event and function
        convertBtn.addEventListener('click', async function () {
            if (!uploadedFiles.length) {
                alert('Please upload at least one PDF file first.');
                return;
            }

            this.disabled = true;
            this.textContent = 'Converting...';

            // For PNG results, append new section header once per file
            try {
                for (let i = 0; i < uploadedFiles.length; i++) {
                    const file = uploadedFiles[i];
                    await convertPdfToPng(file);
                }
            } catch (error) {
                console.error(error);
                alert('Error occurred during PDF to PNG conversion.');
            } finally {
                this.disabled = false;
                this.textContent = 'Convert PDF to PNG';
            }
        });

        async function convertPdfToPng(file) {
            const arrayBuffer = await file.arrayBuffer();
            const loadingTask = pdfjsLib.getDocument({ data: arrayBuffer });
            const pdf = await loadingTask.promise;

            const header = document.createElement('h4');
            header.className = 'mt-6 mb-2 font-semibold text-indigo-300';
            header.textContent = `${file.name} - PNG Pages`;
            fileResults.appendChild(header);

            for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
                const page = await pdf.getPage(pageNum);
                const scale = 2;
                const viewport = page.getViewport({ scale });

                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.width = viewport.width;
                canvas.height = viewport.height;

                const renderContext = { canvasContext: context, viewport };
                await page.render(renderContext).promise;

                const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png', 1.0));

                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `${file.name}_page_${pageNum}.png`;
                link.textContent = `Download Page ${pageNum} PNG`;
                link.className = 'text-indigo-300 hover:text-indigo-100 hover:underline block mb-2';

                fileResults.appendChild(link);
            }
        }

        function animateShake(element) {
            element.style.transform = 'translateX(5px)';
            setTimeout(() => {
                element.style.transform = 'translateX(-5px)';
                setTimeout(() => {
                    element.style.transform = '';
                }, 100);
            }, 100);
        }

        async function compressPDF(file, level) {
            // Simplified compression simulation
            return new Promise((resolve) => {
                setTimeout(() => {
                    let compressionRatio = 0.8; // default low
                    if (level === 'medium') compressionRatio = 0.65;
                    else if (level === 'high') compressionRatio = 0.5;

                    const compressedSize = Math.round(file.size * compressionRatio);
                    const compressedFile = new File([file], `compressed_${file.name}`, {
                        type: 'application/pdf'
                    });
                    Object.defineProperty(compressedFile, 'size', { value: compressedSize });

                    resolve(compressedFile);
                }, 1000 + Math.random() * 1500);
            });
        }

        resetBtn.addEventListener('click', () => {
            uploadedFiles = [];
            fileResults.innerHTML = '';
            fileInput.value = '';
            resultsSection.classList.add('hidden');

            dropZone.style.transform = 'scale(0.98)';
            setTimeout(() => {
                dropZone.style.transform = '';
            }, 200);
        });
    </script>
</body>
</html>
